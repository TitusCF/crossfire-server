Lots of things have happened since this file was last updated...
Can people who supply me patches please add things to this file?

This file is experimental.  Currently, all comments have been
clipped out of the CVS-log, thus they are somewhat "internal"...
Maybe I'll compile and compress them in future releases.

Later down it starts with revision 1.2 again.  This is because I had
to re-enter the source into CVS from scratch due to major reorganization
of files...

Revision 1.69 (of main.c) is equivalent with version 0.87.8.

revision 1.70
date: 1992/09/24 09:51:08;  author: frankj;  
Changed add_string() to add_refcount() at the places where I used
a pointer as argument, and knew that it had been set with add_string()
earlier.
This is last checkin before changing speed/speed_left from float to int.
----------------------------
revision 1.71
date: 1992/09/25 04:48:22;  author: frankj;  
Handles SIGSEGV.
Added reflect_spell and reflect_missile.
Added three new artifacts to treasure.h
Added two patches by moonchile: fixes golems and fixes chosen spell.
----------------------------
revision 1.72
date: 1992/09/26 08:43:19;  author: frankj;  
New variable (no_magic).  Used in dimmension door.
----------------------------
revision 1.73
date: 1992/09/26 18:10:23;  author: frankj;  
Fixed eat rate.  Ring of hunger/sustanance/regeneration now affects
this correctly.  People about to starve to death will automatically eat
something.
Expanded/fixed examine_ring(), and used it for all items that can
be applied_special() to.
Another artifact: gauntlets of dex.
There is a teorethical support for both filepaths and maplevels...
----------------------------
revision 1.74
date: 1992/09/28 22:00:19;  author: frankj;  
Wands added.  Can have most spells in them.
Scrolls added.
Wand of wonder casts flowers or random spells.
Can apply several items that protects from the same thing.
New spell (not used from spellbooks): perceive_self.
Improved examine() function.
Made fire/run keys configurable.
Added a down-direction (pr. default `.', can be configured).  Used by
some spells to produce special effects.
Improved sync-routines.
Calculates price of spell-items based on spell-level.
Some spell-books, scrolls and wands are more rare than others.
Temporary files use names created by tempnam().
Filepaths are half-way implemented (currently both paths and levels are
supported for the maps).
----------------------------
revision 1.75
date: 1992/09/29 11:28:13;  author: frankj;  
Made the patch command more flexible.
Made objects draining experience gain hp.
Fixed bug that crashed game if bomb in inventory went off.
----------------------------
revision 1.76
date: 1992/09/29 20:54:38;  author: frankj;  
Temporary stats implemented, but not debugged.  Not saved yet.
Wizards set wiz-flag in items they buy (to avoid cheating).
New class (swashbuckler) added.
----------------------------
revision 1.77
date: 1992/09/29 21:16:28;  author: frankj;  
Fixed bug with paraluze Vs negative speed... (yes, it was awesome)
----------------------------
revision 1.78
date: 1992/09/30 14:10:59;  author: frankj;  
Saves configured keys.
Made the curved of spell-points/Int steeper toward max-int.
Temporary stats debugged (also uses them in add/remove_stat_bonus.
Fixed bug that moved player to old x/y on first_map when playing Again.
----------------------------
revision 1.79
date: 1992/10/01 21:56:17;  author: frankj;  
Added new treasure.  Added girdle.  Fixed various serious bugs.
Lots more treasure-lists.
----------------------------
revision 1.80
date: 1992/10/02 03:38:45;  author: frankj;  
Added fix from rgg@aaii.oz.au
----------------------------
revision 1.81
date: 1992/10/04 11:34:01;  author: frankj;  
Arrows/bullets are applied when stepped upon, thus monsters can no longer
run through them (while in flight).
Bullets can kill more than one monster if the monsters are weak (it always
does max damage, and continues if it has more damage left to do)
New variable: tear_down.  Used in earthwalls and new tear-able walls.
Created monster_cast(), which casts different spells depending on
monster->Int.  Speed depends on monster->stats.maxsp.  The chance is
now much lower for dragons to breath repeatedly in a short period of time.
The chinese dragon breathes cold (icestorm).
Fixed stinger to sting in treasure.h
Have implemented object refcounts half the way (I increase them, but don't
decrease or check them).
Potions, gems, etc, are removed from map if found there.  The prices
have in general increased.  Thus potions are now very rare and expensive.
This should balance the game much better.
The max price for an item is 10000, but the price still goes up beyond
----------------------------
revision 1.82
date: 1992/10/04 11:58:34;  author: frankj;  
Agh...cvs deleted most of my comments last time, as well as corrupting
the admin directory...
Amulets now can be worn.
All prices increased, gems & potions much more rare.  Balance should be
restored now.
Monsters use their con to regenerate hit-points.
More messages in describe_ring() (slayer, immune,vulnerable)
More messages in fix_player() (vulnerable)
Spells: invisible, invisible to undead, probe, large bullet.
Firewalls used generally now to produce any arch, like bullet/speedball...
Poison decreases stats temporarily, depending on damage.
Fixed bugs in fix_player().  (immune to AT_DRAIN and AT_WEAPONMAGIC didn't work)
----------------------------
revision 1.83
date: 1992/10/06 15:16:42;  author: frankj;  
Added and modified patches from rgg@aaii.oz.au.
Moved all cones into a common type.
Turned down the speed with 20%.
New walls in edit.h
Checks for invisible objects in drop(), apply() and rotate_right().
Cleaned up fix_player().  Though now it takes even more cpu.
Changed save-file format for known spells.
----------------------------
revision 1.84
date: 1992/10/10 00:53:06;  author: frankj;  
patch to spells.c from rgg@au.
patch to shop.c from prp@sei.cmu.edu
Added mithril chainmail and scalemail.
Magic missiles also go after players now.
----------------------------
revision 1.85
date: 1992/10/14 03:22:03;  author: frankj;  
Uses memcpy() in copy_object().  Moved variables around in the structure
to achieve this painlessly.
Moved definition of offssetof() from shstr.c to define.h
Removed include "define.h" from color.h
Fixed bug that increased damage when wearing magical helmets.
Fixed bug in arrow-routine in fire() in main.c.
Fixed earthwalls, so that the last image stays behind, unless it's G_BLANK.
Fixed bug that enabled players to click where they couldn't see to
find out what objects are there.
Fixed the scrollbars in the game (works more like standard scrollbars).
New spells (SP_PROT_*, CON & CHA)
Length of "force" spells depend on level.
----------------------------
revision 1.86
date: 1992/10/14 04:33:11;  author: frankj;
Fixed the refresh-key (now refreshes all).
Added -v switch, and the `v' command (displays version and contributors)
----------------------------
revision 1.87
date: 1992/10/14 12:45:57;  author: frankj;
Added encryption of player passwords.
Removed all #if[n]def[ine] MEMSET.  MEMSET is always true.
----------------------------
revision 1.81 (of input.c, not main.c)
date: 1992/10/16 07:41:53;  author: frankj;
Added support for signs in editor (by tvangod@ecst.csuchico.edu),
and made it possible to apply them.
----------------------------
date: 1992/12/24	author: rgg@aaii.oz.au
Fixed SWAP_STATS
----------------------------
revision 1.88
date: 1992/10/21 12:14:58;  author: frankj;  state: Exp;  lines: +4 -4
Last checkin before applying patches.
Changed stats of priest.
Working on editing messages n edit.c
----------------------------
revision 1.89
date: 1992/10/29 07:05:09;  author: frankj;  state: Exp;  lines: +15 -6
Several changes and patches.
Last checkin before patch from eneq
----------------------------
revision 1.90
date: 1992/11/01 03:34:45;  author: frankj;  state: Exp;  lines: +47 -25
Patches from:
eneq@Prag.DoCS.UU.SE (Rickard Eneqvist
Jarkko.Sonninen@lut.fi (Jarkko Sonninen)
fabs() doesn't work as expected on decstations, made my own macro.
----------------------------
revision 1.91
date: 1992/11/02 17:13:49;  author: frankj;  state: Exp;  lines: +89 -20
Added support for mouse-control of player.  New buttons.  Made by
kholland@sunlab.cit.cornell.edu.
----------------------------
revision 1.92
date: 1992/11/30 20:24:50;  author: frankj;  state: Exp;  lines: +243 -21
Added ~1400 lines of additions from docs.uu.se (eneq & co)
Several things not tested exstensively yet, there are defenitely
bugs around.
----------------------------
revision 1.93
date: 1992/11/30 21:56:41;  author: frankj;  state: Exp;  lines: +2 -1
Added kjetilho to credits 8)
----------------------------
revision 1.94
date: 1992/12/03 00:12:52;  author: frankj;  state: Exp;  lines: +23 -15
Made it possible for monsters to use apply() in all cases.
Fixed and introduced various bugs to the new sources from Sweeden.
----------------------------
revision 1.95
date: 1992/12/04 02:44:46;  author: frankj;  state: Exp;  lines: +43 -13
Patches from sonninen.
Made it worse to be braced (ac/wc/exp)
Made it possible for cleric-spells to fail
----------------------------
revision 1.96
date: 1992/12/09 05:41:28;  author: frankj;  state: Exp;  lines: +16 -1360
Have splitted up the files to get closer to the goal of having all below 50Kb.
Still hunting for the bug that occurs in object-linking when a player dies.
----------------------------
revision 1.97
date: 1992/12/13 13:36:58;  author: frankj;  state: Exp;  lines: +4 -1
Refined and commented some code, especially in init.c.
Added a new flag: F_XRAYS.  If an object with that flag is applied, the
character gains xray-vision, ie, no LOS is computed.
Used the fly-flag in object to make levitation-boots and levitation spell.
Fixed bug in remove_force, so that it displays the correct message.
Refined README slightly.
Moved very valuable artifacts into a separate list which is more uncommon
than the other artifact-list.
Don't read the archetype-file unless needed.
Changed treasure.c so that rings other than the standard generated ones,
keeps their ob->face.
Fixed some bugs in edit.c, and made <prev> and <next> buttons to skip
between levels more easily.
----------------------------
revision 1.98
date: 1992/12/19 21:12:50;  author: frankj;  state: Exp;  lines: +6 -8
Last checkin before 0.88.0 release.
----------------------------
revision 1.99
date: 1993/01/09 00:03:05;  author: frankj;  state: Exp;  lines: +13 -12
Added pickup-patch from Tony Elmroth.
Fixed problems when saving unnamed map.
cd.diff added (golems & enemy code, time command, expanded LOS).
magic missile patch from Tony Elmroth added.
Fixed problem that could crash game if a player other than the
last player quit the game.
----------------------------
revision 1.100
date: 1993/01/09 09:29:06;  author: frankj;  state: Exp;  lines: +2 -2
Moved most check_score() up, so that the highscore is recorded with
maxhp and maxsp as they are with all items intact (ie, before they
are looted, or removed due to saving).
----------------------------
revision 1.101
date: 1993/01/11 23:13:15;  author: frankj;  state: Exp;  lines: +5 -5
0.88.2 checkin.
Started to work on monster-spells.
----------------------------
revision 1.102
date: 1993/01/12 08:36:44;  author: frankj;  state: Exp;  lines: +2 -1
Added fear for players.
----------------------------
revision 1.103
date: 1993/01/13 04:41:05;  author: frankj;  state: Exp;  lines: +6 -2
Fikset noen sm}ting, for } gj|re klar ny versjon
----------------------------
revision 1.104
date: 1993/01/13 15:24:34;  author: frankj;  state: Exp;  lines: +6 -1
Fixed bag-weight bug in shop.
Fixes for HP-UX
Names on the different windows.
Fixed serious bug in editor: Created new random treasures each time map loaded!
----------------------------
revision 1.105
date: 1993/01/13 16:08:33;  author: frankj;  state: Exp;  lines: +4 -4
Monsters can do max damage 3*original damage.
----------------------------
revision 1.106
date: 1993/01/19 20:09:15;  author: frankj;  state: Exp;  lines: +76 -8
Lots of new stuff, including:
  two patches from joergens@pvv.unit.no, including osf patch
  a patch (and new bitmaps/maps) from elmroth@CD
  a patch, and new maps from sonninen@cc.lut.fi
  floor patch from rgg@aaii.oz.au
  linux patch
Fixed weapon speed
Started working on OBWIN struct.
Lots of minor bug-fixes
----------------------------
revision 1.107
date: 1993/01/20 00:00:19;  author: frankj;  state: Exp;  lines: +28 -22
Last changes before 0.88.4
----------------------------
revision 1.108
date: 1993/01/23 05:08:53;  author: frankj;  state: Exp;  lines: +142 -341
Added four buttons in editor to select archetypes.
Added delayed freeing of maps when leaving them, to speed things up.
Added auto-ticks in maps in memory *while* loading objects.
Added sleep in monsters: they wake up when the enemy approaches.
Rewrote parts of move_monster() to tidy it up.
Added use of friendly-flag, untested.
----------------------------
revision 1.109
date: 1993/01/24 18:07:35;  author: frankj;  state: Exp;  lines: +24 -1
Added variable "armour" to all objects.  When given physical damage,
armour % of the damage is subtracted.
Maps continue to "live" for a while after the last player left it.
Maps with players are given "ticks" while news map is being loaded (in case
it takess long to load the new map).
Monsters sleep until awoken (most, at least).
Monsters can be friendly.
----------------------------
revision 1.110
date: 1993/01/25 02:58:52;  author: frankj;  state: Exp;  lines: +14 -1
Added hash-table to the archetypes.
Fixed bug: vulnerable was never used from items!!!
----------------------------
Some other stuff which didn't get entered in the main.c-log (from input.c):
revision 1.94
date: 1993/01/12 07:11:58;  author: frankj;  state: Exp;  lines: +2 -1
What spells the monster can cast, both from spellbook and innate ability,
is now generic, using "ability" objects and treasures.  Looks great!!!!
----------------------------
revision 1.96
date: 1993/01/13 10:52:15;  author: frankj;  state: Exp;  lines: +9 -4
With option -w, or with resource "split_window", the windows are all
separated, and the "inventory", the "look" and the "info" windows can
all be resized!
Added new book-type (for non-spell books)
----------------------------
revision 1.101
date: 1993/01/24 23:39:22;  author: frankj;  state: Exp;  lines: +42 -25
Made the object-structure shorter (made several long into char)
archetype->faces is now allocated, using just as much as needed.
Expanded the malloc_info function.
----------------------------
revision 1.2
date: 1993/03/12 21:51:36;  author: frankj;  state: Exp;  lines: +1 -1
Have just applied 100 patches for different things...
Hope things are more stable 8)
Fixed some socket-stuff for alpha (osf) in server/stocket.c
----------------------------
revision 1.3
date: 1993/03/13 17:23:48;  author: frankj;  state: Exp;  lines: +3 -0
0.89.1 release.  Fixed credits and statdrain attack.
----------------------------
revision 1.4
date: 1993/06/15 08:00:53;  author: frankj;  state: Exp;  lines: +19 -5
Lots and lots of changes, haven't checked in in ages...
Lots of new documentation.  Several bugfixes. Several new fonts.
Several new archetypes.  More options to client.
More advanced buttons/gates (time-triggers, magic_ear, etc)
Alchemy spell.  Better magic_mapping.  More advanced pets.
NOT_PERMADEATH option.  regexps.  crypted DM_PASSWD.
Fixed bug in depletion and bad luck.
----------------------------
revision 1.5
date: 1993/07/03 03:43:08;  author: frankj;  state: Exp;  lines: +1 -0
Patches by Gregor Schmid, halfway added (changes to save-routines)
Identify, cursed/damned items, etc, has been added (yow!)
Needed spells, like detect magic, detect curse, remove curse and
remove damnation has been added as well.
Other spells: detect monsters, detect evil, was added as well.
Fixed a serious bug: LOG was always recaucluated, each round!!!
Added a flag to make an object visible outside LOS range ("see_anywhere").
(This flag is used in the object which shows where you detect things)
Made it possible to block calls to load_objects(), to avoid calls
to parse_active_maps().  (Now used from encounters)
----------------------------
revision 1.6
date: 1993/08/08 15:59:14;  author: frankj;  state: Exp;  lines: +1 -0
Fixed Imakefiles, make archive, dependencies, etc...
Macroes to describe attacks, immunities, etc, of objects/monsters.
Added rods, horns, new items/monsters, etc..
Much better support for simultanous .gz/.Z/.(optional) compression
New patch with better sound support.  Better spoiler.ps generation.
Better handled global archetype pointers.
Better support for artifacts, but routine to limit combination doesn't work...
New version (0.5) of crossedit.
Much more graphics used by spells.  Several new spells.
New routines to display which ranged attack is selected:  +/- works much
better, variables are saved/restored, more range modes, enums, etc...
----------------------------
